<script>
  async function findRoute() {
    const start = document.getElementById('start').value;
    const end = document.getElementById('end').value;

    const res = await fetch('/api/route', {
      method: 'POST',
      headers: {'Content-Type': 'application/json'},
      body: JSON.stringify({start, end})
    });

    const data = await res.json();

    // Cek kalau responsenya valid
    if (data.route && data.distance !== undefined) {
      document.getElementById('result').innerHTML = `
        <p>Jarak dari <b>${data.route[0]}</b> ke <b>${data.route[data.route.length - 1]}</b> adalah <b>${data.distance} km</b>.</p>
        <p>Rute: ${data.route.join(" â†’ ")}</p>
      `;
    } else {
      document.getElementById('result').textContent = 'Rute tidak ditemukan.';
    }
  }
</script>
